<div class="container container-extra-padding">
    <form (ngSubmit)="save()" #catadorForm="ngForm">
        <div class="row"></div>
        
        <hr>

        <div class="row">
            <div class="col-xs-12 col-md-12">
                <div class="form-group">
                    <label class="sign-title">CADASTRO DE COOPERATIVAS</label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="form-group" id="name-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="Nome da cooperativa" 
                            required 
                            name="name" 
                            id="name"
                            [(ngModel)]="cooperativa.name"
                            maxlength="60">
                </div>
                <div class="form-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="E-mail" 
                            required 
                            maxlength="100"
                            id="email" 
                            name="email"
                            [(ngModel)]="cooperativa.email">
                </div>
                <div class="form-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="Frase/Slogan" 
                            required 
                            maxlength="128"
                            id="phrase" 
                            name="phrase"
                            [(ngModel)]="cooperativa.phrase">
                </div>

                <!-- --------3rd row of the colm--------- -->
                <div class="text-center">
                    <!-- <img src="" id="preview" style="display: none;"/> -->
                    <img src="" id="preview" />
                </div>

                <div class="" style="margin-bottom: 4px;">
                        <label class="button-upload">
                            <span class="glyphicon glyphicon-camera" aria-hidden="true"></span>
                            <strong>Adicionar logo</strong>
                        <input type='file' 
                                id="img-file" 
                                data-buttonBefore="true"
                                data-placeholder="…"
                                data-buttonText="Adicionar foto"
                                data-iconName="glyphicon glyphicon-camera"
                                required 
                                class="filestyle"
                                placeholder="Adicionar foto"
                                (change)="readLogoURL($event);"
                                hidden />
                        </label>
                </div>

                <!-- --------4th row of the colm--------- -->
                <div class="form-group" ng-app="">
                    <input type="number" 
                            class="form-control" 
                            placeholder="Total de colaboradores" 
                            required
                            id="how_many_cooperators" 
                            name="how_many_cooperators"
                            [(ngModel)]="cooperativa.how_many_cooperators">
                </div>
                
                <div class="form-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="Data de fundação" 
                            name="founded_in"
                            id="datepicker"
                            [textMask]="{mask: masks.date}" 
                            [(ngModel)]="cooperativa.founded_in">
                </div>

                <div class="form-group">
                    <textarea type="text" 
                            class="form-control" 
                            placeholder="História da cooperativa" 
                            style="height:130px;" 
                            name="history"
                            id="history"
                            maxlength="600"
                            required
                            [(ngModel)]="cooperativa.history"></textarea>
                </div>
            </div>

            <br>
            <div class="col-md-12">
                <div class="form-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="Telefone" 
                            id="phones0" 
                            name="phones0"
                            required 
                            [textMask]="{mask: masks.number}"
                            [(ngModel)]="cooperativa.phones[0].phone">
                </div>
                <!-- --------3rd row of the colm--------- -->
                <div class="form-group">
                    <label class="label-left-margin">Esta linha tem WhatsApp?</label><br />
                    <label class="radio-inline label-left-margin" style="color: #a0a0a0;">
                        <input type="radio" 
                            required 
                            name="whatsapp0-s"
                            [value]="1"
                            [(ngModel)]="cooperativa.phones[0].has_whatsapp">
                            Sim
                    </label>
                    <label class="radio-inline" style="margin-left:17%; color: #a0a0a0;">
                        <input type="radio" 
                            required 
                            name="whatsapp0-n"
                            [value]="0"
                            [(ngModel)]="cooperativa.phones[0].has_whatsapp"
                            ng-model="userfullName6">Não
                        </label>
                </div>
                <div class="form-group">
                    <input type="text" 
                            class="form-control" 
                            placeholder="Telefone 2 (opcional)" 
                            id="phones1" 
                            [textMask]="{mask: masks.number}"
                            name="phones1"
                            required 
                            [(ngModel)]="cooperativa.phones[1].phone">
                </div>
                <!-- --------6th row of the colm--------- -->
                <div class="form-group">
                    <label class="label-left-margin">Esta linha tem WhatsApp?</label><br />
                    <label class="radio-inline label-left-margin" style="color: #a0a0a0;">
                        <input type="radio" 
                            required 
                            name="whatsapp1-s"
                            [value]="1"
                            [(ngModel)]="cooperativa.phones[1].has_whatsapp">
                            Sim
                    </label>
                    <label class="radio-inline" style="margin-left:17%; color: #a0a0a0;">
                        <input type="radio" 
                            required 
                            name="whatsapp1-n"
                            [value]="0"
                            [(ngModel)]="cooperativa.phones[1].has_whatsapp"
                            ng-model="userfullName6">Não
                        </label>
                </div>
            </div>
        </div>

        <hr>
                   
        <!-- MAPA -->

        <div class="row">                
            <div class="col-md-12 col-xs-12 col-sm-12">
                <div class="form-group">
                    <label class="sign-title">
                        Aponte um local de referência, central para o trabalho do catador/a
                    </label>
                </div>
            </div>
        </div>
        
        <div class="row">
            <br>
            <div class="col-lg-12 map-container">
                <agm-map [latitude]="mapLatitude" 
                    [longitude]="mapLongitude"
                    [zoom]="zoom"
                    [streetViewControl]="false"
                    [scrollwheel]="false"
                    (mapClick)="onClickMap($event)"
                    
                    style="height: 315px">
                
                    <agm-marker [latitude]="markLat" 
                            [longitude]="markLng" 
                            [markerDraggable]="true"
                            [iconUrl]=""
                            (dragEnd)="onMoveMark($event)"></agm-marker>

                </agm-map>
            </div>

            <div class="col-lg-12">
                <div>
                    <div style="width: 28%; float: left; margin-right: 2%;">
                            <div class="form-group">
                                <select class="form-control" 
                                        id="state"
                                        name="state"
                                        [(ngModel)]="cooperativa.state">
                                </select>
                            </div> 
                        </div>    
                    <div style="width: 28%; float: left; margin-right: 2%;">
                            <div class="form-group">
                                <select class="form-control" 
                                        id="city" 
                                        name="city"
                                        [(ngModel)]="cooperativa.city"
                                        (change)="addressFocusOut()">
                                </select>
                            </div>
                        </div>
                    <div style="width: 40%; float: left">
                        <div class="form-group">
                            <input type="text" 
                                    class="form-control" 
                                    placeholder="Bairro" 
                                    id="address_region" 
                                    name="address_region"
                                    [(ngModel)]="cooperativa.address_region"
                                    (focusout)="addressFocusOut()"
                                    maxlength="128">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 ">
                        <div class="input-col-left">
                            <div class="form-group">
                                <input type="text" 
                                        class="form-control" 
                                        placeholder="Rua" 
                                        required
                                        id="address_base" 
                                        name="address_base"
                                        [(ngModel)]="cooperativa.address_base"
                                        (focusout)="addressFocusOut()"
                                        maxlength="500">
                            </div>
                        </div>
                        <div class="input-col-right">                                  
                            <div class="form-group">
                                <input type="number" 
                                        class="form-control" 
                                        placeholder="nº"
                                        id="number" 
                                        name="number"
                                        [(ngModel)]="cooperativa.number">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- MATERIAIS -->

        <hr>
        <div class="row">                
            <div class="col-md-12 col-xs-12 col-sm-12">
                <div class="form-group">
                    <label align="left" class="sign-title">
                        Selecione os materiais em que você trabalha:
                    </label>
                </div>
            </div>
        </div>
        
        <div class="row">
            <!-- ----------Col for the form------------------- -->
            <div class="col-md-6">
                <!-- --------1st row of the colm--------- -->
                <div class="row row-bottom-margin">
                    <div class="col-md-4  col-sm-4  col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon 1.png" 
                                    class="img-responsive img-material"
                                    (click)="selectMaterial('misturado')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('misturado') > -1 }" >
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'misturado'" 
                                    [checked]="materialSelected.indexOf('misturado') > -1" 
                                    (click)="selectMaterial('misturado')" >
                                Misturado
                        </label>
                    </div>

                    <!-- ----------2nd colm------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon2.png" 
                                    class="img-responsive img-material"
                                    (click)="selectMaterial('lata')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('lata') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'lata'" 
                                    [checked]="materialSelected.indexOf('lata') > -1" 
                                    (click)="selectMaterial('lata')">Lata</label>
                    </div>

                    <!-- -----------3rd colm-------------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon3.png" 
                                    class="img-responsive img-material"
                                    (click)="selectMaterial('vidro')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('vidro') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:28%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'vidro'" 
                                    id="material-vidro-id"
                                    [checked]="materialSelected.indexOf('vidro') > -1" 
                                    (click)="selectMaterial('vidro')" >
                                Vidro
                        </label>
                    </div>
                </div>



                <!-- --------2nd row of the colm--------- -->
                <div class="row row-bottom-margin">
                    <div class="col-md-4  col-sm-4  col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon4.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('papel')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('papel') > -1 }" >
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'papel'" 
                                    [checked]="materialSelected.indexOf('papel') > -1" 
                                    (click)="selectMaterial('papel')">Papel</label>
                    </div>

                    <!-- ----------2nd colm------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon5.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('plastico')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('plastico') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'plastico'" 
                                    [checked]="materialSelected.indexOf('plastico') > -1" 
                                    (click)="selectMaterial('plastico')">
                                Plástico
                        </label>
                    </div>

                    <!-- -----------3rd colm-------------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon6.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('metal')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('metal') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:28%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'metal'" 
                                    [checked]="materialSelected.indexOf('metal') > -1" 
                                    (click)="selectMaterial('metal')">
                                Metal
                        </label>
                    </div>
                </div>

                <!-- -----------End of 1stcol------- -->
            </div>

            <div class="col-md-6">
                <!-- --------1st row of the colm--------- -->
                <!-- --------1st row of the colm--------- -->
                <div class="row row-bottom-margin">
                    <div class="col-md-4  col-sm-4  col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon7.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('oleo')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('oleo') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'oleo'" 
                                    [checked]="materialSelected.indexOf('oleo') > -1" 
                                    (click)="selectMaterial('oleo')">
                                Óleo
                        </label>
                    </div>

                    <!-- ----------2nd colm------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon8.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('eletronico')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('eletronico') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:10%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'eletronico'" 
                                    [checked]="materialSelected.indexOf('eletronico') > -1" 
                                    (click)="selectMaterial('eletronico')">
                                Eletrônico
                        </label>
                    </div>

                    <!-- -----------3rd colm-------------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon9.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('bateria')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('bateria') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:28%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'bateria'" 
                                    [checked]="materialSelected.indexOf('bateria') > -1" 
                                    (click)="selectMaterial('bateria')">Baterias</label>
                    </div>
                </div>



                <!-- --------2nd row of the colm--------- -->
                <div class="row row-bottom-margin">
                    <div class="col-md-4  col-sm-4  col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon10.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('moveis')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('moveis') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'moveis'" 
                                    [checked]="materialSelected.indexOf('moveis') > -1" 
                                    (click)="selectMaterial('moveis')">Móveis</label>
                    </div>

                    <!-- ----------2nd colm------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon11.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('entulho')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('entulho') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:20%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'entulho'" 
                                    [checked]="materialSelected.indexOf('entulho') > -1" 
                                    (click)="selectMaterial('entulho')">Entulho</label>
                    </div>

                    <!-- -----------3rd colm-------------------- -->
                    <div class="col-md-4  col-sm-4 col-xs-4">
                        <p>
                            <img src="assets/img/cadastro/icon12.png" 
                                    class="img-responsive img-material" 
                                    (click)="selectMaterial('outros')"
                                    [ngClass]="{'img-selected': materialSelected.indexOf('outros') > -1 }">
                        </p>
                        <label class="radio-inline" style="padding-left:28%; color: #a0a0a0;">
                            <input type="radio" 
                                    class="inline" 
                                    value="'outros'" 
                                    [checked]="materialSelected.indexOf('outros') > -1" 
                                    (click)="selectMaterial('outros')">Outros</label>
                    </div>
                </div>
            </div>
            <!-- --------------End of row-------------- -->
        </div>

        <!-- GALERIA -->

        <hr>
        <div class="row">
            <div class="col-md-12">
                <label class="sign-title">
                    Galeria <small style="color: #bdbbbb">Adicione aqui as fotos da cooperativa</small>
                </label>
                <br><br><br>

                <!-- <h2>Galeria <small style="color: #bdbbbb">Adicione aqui as fotos da cooperativa</small></h2> -->
                <input type='file' class="filestyle col-md-12" data-input="false" (change)="readGalleryURL($event);" multiple/>
                <br>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-4 col-md-2" *ngFor="let photo of cooperativa.photos" [hidden]="photo.delete && photo.delete == 1">
                <div class="thumbnail">
                    <img [src]="getGallerySrc(photo)" class="gallery-photo">
                    <div class="caption">
                        <p>
                            <a (click)="removeImageOnGallery(photo)" class="btn btn-danger" role="button">Delete</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /GALERIA -->

        
        <!-- PARCEIROS -->
        <hr>
        <div class="row">
            <div class="col-md-12">
                <label class="sign-title">
                    Parceiros <small style="color: #bdbbbb">Adicione aqui os Parceiros da Cooperativa.</small>
                </label>
            </div>

            <br><br><br>
            <!-- <h2>
                Parceiros 
                <small style="color: #bdbbbb">Adicione aqui os Parceiros da Cooperativa.</small>
            </h2> -->
            <div class="col-sm-12 col-md-4">
                <div class="form-group">
                    <!-- <label for="parceiro-name">Nome</label> -->
                    <input type="text" class="form-control" id="parceiro-name" name="parceiro-name" 
                        [(ngModel)]="parceiro.name" maxlength="60" placeholder="Nome do parceiro">
                </div>
                <div class="form-group">
                    <label>Logo</label>
                    <input type='file' 
                            class="filestyle col-md-12" 
                            data-input="false"
                            id="parceiro-image-input"
                            [disabled]="partnerLoading" 
                            (change)="readPartnerURL($event);"/>
                </div>
                <p>
                    <a (click)="addPartner(parceiro)" class="btn btn-info" role="button">Adicionar</a>
                </p>
            </div>
        </div>

        <div class="row">                
            <div class="col-sm-4 col-md-2" *ngFor="let partner of cooperativa.partners" [hidden]="partner.delete && partner.delete == 1">
                <div class="thumbnail">
                    <img [src]="getPartnerSrc(partner)" class="gallery-photo">
                    <div class="caption">
                        <h3>{{ partner.name }}</h3>                                
                        <p>
                            <a (click)="removePartner(partner)" class="btn btn-danger" role="button">Delete</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <hr>
            </div>
        </div>
        <!-- /PARCEIROS -->

        <div class="row buttons-wrapper">
            <div class="col-md-6 col-xs-6 col-sm-6">
                <button type="button" value="CANCELA" id="name-group"
                        class="cancel-button btn-danger btn" (click)="goHome()">
                    CANCELAR
                </button>
            </div>

            <div class="col-md-6 col-xs-6 col-sm-6">
                <button type="submit" id="btn-confirmar" class="primary-button btn btn-success" value="CONFIRMA">CONFIRMAR</button>
            </div>
        </div>

    </form>
</div>